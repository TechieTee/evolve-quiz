import{j as e,r as c,R as ie}from"./index-BxUyyN1A.js";const ce=()=>e.jsx("div",{className:"spinner"}),le=({conditions:s=[],bodypart:u,onSelect:d,selectedConditions:h})=>!Array.isArray(s)||s.length===0?e.jsx("div",{className:"condition-empty-state",children:"No conditions available for this body part"}):e.jsxs("div",{className:"condition-grid",children:[e.jsxs("h3",{className:"concerns-header-text",children:[u," Concerns"]}),s.map(n=>e.jsx("div",{className:`condition-item ${h.some(m=>m.id===n.id)?"selected":""}`,onClick:()=>d(n),children:e.jsxs("div",{className:"condition-content",children:[e.jsx("span",{className:"condition-title",children:n.title}),e.jsx("span",{className:`custom-checkbox ${h.some(m=>m.id===n.id)?"checked":""}`,children:h.some(m=>m.id===n.id)&&e.jsx("svg",{className:"check-icon",xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("polyline",{points:"20 6 9 17 4 12"})})})]})},n.id))]});/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),he=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(u,d,h)=>h?h.toUpperCase():d.toLowerCase()),O=s=>{const u=he(s);return u.charAt(0).toUpperCase()+u.slice(1)},Y=(...s)=>s.filter((u,d,h)=>!!u&&u.trim()!==""&&h.indexOf(u)===d).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var me={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=c.forwardRef(({color:s="currentColor",size:u=24,strokeWidth:d=2,absoluteStrokeWidth:h,className:n="",children:m,iconNode:w,...C},g)=>c.createElement("svg",{ref:g,...me,width:u,height:u,stroke:s,strokeWidth:h?Number(d)*24/Number(u):d,className:Y("lucide",n),...C},[...w.map(([p,x])=>c.createElement(p,x)),...Array.isArray(m)?m:[m]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=(s,u)=>{const d=c.forwardRef(({className:h,...n},m)=>c.createElement(ue,{ref:m,iconNode:u,className:Y(`lucide-${de(O(s))}`,`lucide-${s}`,h),...n}));return d.displayName=O(s),d};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],fe=_("arrow-left",pe);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],je=_("arrow-right",xe),ge=({selectedBodyParts:s,resetQuiz:u})=>{const[d,h]=c.useState([]),n=c.useRef([]),m=(p,x)=>{var o;const f=n.current[p];if(f){const l=((o=f.children[0])==null?void 0:o.clientWidth)||0;f.scrollTo({left:x*(l+40),behavior:"smooth"}),C(p,x)}},w=p=>{var f;const x=n.current[p];if(x){const o=((f=x.children[0])==null?void 0:f.clientWidth)||0,l=Math.round(x.scrollLeft/(o+40));C(p,l)}},C=(p,x)=>{h(f=>{const o=[...f];return o[p]=x,o})},g=(p,x)=>{const f=d[p]||0,o=n.current[p];if(!o)return;const l=o.children.length,j=x==="prev"?Math.max(0,f-1):Math.min(l-1,f+1);m(p,j)};return e.jsx("main",{className:"recommendations",children:e.jsxs("div",{className:"container",children:[e.jsxs("header",{className:"header",children:[e.jsx("h1",{className:"title",children:"Your Recommendations Are In!"}),e.jsx("p",{className:"subtitle",children:"Here is what we suggest based on your skin + body goals"}),e.jsxs("div",{className:"button-group",children:[e.jsx("button",{className:"link-button",onClick:u,children:"Take the quiz again"}),e.jsx("button",{className:"appointment-button",children:"Book Appointment"})]})]}),s.map((p,x)=>e.jsx("div",{children:p.conditions.map((f,o)=>{var S;const l=x*100+o,j=((S=f.recommended_services)==null?void 0:S.map(v=>{var b;return{category:((b=v.taxonomy[0])==null?void 0:b.name)||"SERVICE",title:v.title,content:v.content||"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur..."}}))||[];return d[l]===void 0&&(d[l]=0),e.jsxs("section",{className:"treatment-section",children:[e.jsx("div",{className:"section-header",children:e.jsx("h2",{className:"section-title",children:f.title})}),j.length>0?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"carousel",children:[e.jsx("div",{className:"carousel-content",ref:v=>{n.current[l]=v},onScroll:()=>w(l),children:j.map((v,b)=>e.jsx("div",{className:"carousel-item",children:e.jsx("div",{className:"card",children:e.jsxs("div",{className:"card-content",children:[e.jsx("span",{className:"badge",children:v.category}),e.jsx("h3",{className:"treatment-title",children:v.title}),e.jsx("p",{className:"treatment-description",children:v.content})]})})},b))}),e.jsxs("div",{className:"carousel-navigation",children:[e.jsx("button",{className:"carousel-prev",onClick:()=>g(l,"prev"),disabled:d[l]===0,children:e.jsx(fe,{className:"w-5 h-5",color:"black"})}),e.jsx("button",{className:"carousel-next",onClick:()=>g(l,"next"),disabled:d[l]===j.length-1,children:e.jsx(je,{className:"w-5 h-5",color:"black"})})]}),e.jsx("div",{className:"dots-navigation",children:j.map((v,b)=>e.jsx("div",{className:`dot ${b===d[l]?"active":""}`,onClick:()=>m(l,b)},b))})]})}):e.jsx("p",{className:"no-treatments",children:"No treatments recommended for this condition"})]},o)})},x))]})})},L={front:[{area:"Chest",path:"M93,185 C103,175 113,175 123,185 C133,195 133,215 123,225 C113,235 103,235 93,225 C83,215 83,195 93,185 Z",left:"49.65%",top:"23.31%"},{area:"Abdomen",path:"M93,225 C103,235 113,235 123,225 C133,215 133,275 123,285 C113,295 103,295 93,285 C83,275 83,215 93,225 Z",left:"49.65%",top:"35.39%"},{area:"Arm",path:"M30,185 C20,195 15,215 20,235 C25,255 35,265 45,255 C55,245 60,225 55,205 C50,185 40,175 30,185 Z",left:"7.18%",top:"25.93%"},{area:"Flank",path:"M50,225 C40,235 35,255 40,275 C45,295 55,305 65,295 C75,285 80,265 75,245 C70,225 60,215 50,225 Z",left:"24.82%",top:"33.39%"},{area:"Hand",path:"M20,275 C10,285 5,305 10,325 C15,345 25,355 35,345 C45,335 50,315 45,295 C40,275 30,265 20,275 Z",left:"10.63%",top:"52.44%"},{area:"Intimate",path:"M93,285 C103,295 113,295 123,285 C133,275 133,315 123,325 C113,335 103,335 93,325 C83,315 83,275 93,285 Z",left:"49.65%",top:"44.25%"},{area:"Thighs",path:"M93,325 C103,335 113,335 123,325 C133,315 133,375 123,385 C113,395 103,395 93,385 C83,375 83,315 93,325 Z",left:"30.65%",top:"54.72%"},{area:"Lower Legs",path:"M93,385 C103,395 113,395 123,385 C133,375 133,455 123,465 C113,475 103,475 93,465 C83,455 83,375 93,385 Z",left:"40.65%",top:"86.79%"}],back:[{area:"Back",path:"M93,210 C103,220 113,220 123,210 C133,200 133,260 123,270 C113,280 103,280 93,270 C83,260 83,200 93,210 Z",left:"49.65%",top:"32.00%"},{area:"Buttocks",path:"M93,270 C103,280 113,280 123,270 C133,260 133,310 123,320 C113,330 103,330 93,320 C83,310 83,260 93,270 Z",left:"70.65%",top:"43.80%"}],head:[{area:"Scalp",path:"M80,40 C90,35 100,35 110,40 C115,45 115,55 110,60 C100,65 90,65 80,60 C75,55 75,45 80,40 Z",left:"41.65%",top:"5.50%"},{area:"Forehead",path:"M80,50 C90,45 100,45 110,50 C115,55 115,65 110,70 C100,75 90,75 80,70 C75,65 75,55 80,50 Z",left:"41.65%",top:"15.25%"},{area:"Eyes",path:"M80,70 C90,65 100,65 110,70 C115,75 115,85 110,90 C100,95 90,95 80,90 C75,85 75,75 80,70 Z",left:"26.65%",top:"30.50%"},{area:"Full Face",path:"M80,50 C100,40 120,40 140,50 C150,60 150,80 140,90 C120,100 100,100 80,90 C70,80 70,60 80,50 Z",left:"20.65%",top:"45.00%"},{area:"Mid-Face",path:"M80,65 C90,60 100,60 110,65 C115,70 115,80 110,85 C100,90 90,90 80,85 C75,80 75,70 80,65 Z",left:"41.65%",top:"43.50%"},{area:"Lips/Mouth",path:"M90,85 C100,90 110,90 120,85 C125,82 125,88 120,85 C110,80 100,80 90,85 C85,88 85,82 90,85 Z",left:"41.65%",top:"70.25%"},{area:"Neck",path:"M90,90 C100,95 110,95 120,90 C125,100 125,110 120,120 C110,125 100,125 90,120 C85,110 85,100 90,90 Z",left:"29.65%",top:"90.50%"}]},Ce=({viewType:s,selectedAreas:u,onAreaSelect:d,gender:h})=>{const[n,m]=c.useState(null),C=(()=>{switch(s){case"front":return L.front;case"back":return L.back;case"face":return L.head;default:return L.front}})(),g=()=>{switch(s){case"front":return h==="male"?"/male-body-front.svg":"/female-body-front.svg";case"back":return h==="male"?"/male-body-back.svg":"/female-body-back.svg";case"face":return"/face.svg";default:return h==="male"?"/male-body-front.svg":"/female-body-front.svg"}},p=o=>{C.find(j=>j.area===o)&&d(o)},x=()=>s==="face"?"0 0 350 350":"0 0 187 733",f=o=>{if(s==="face"){const l=parseFloat(o.left)/100*300+50,j=parseFloat(o.top)/100*300+50;return{left:l,top:j}}else{const l=parseFloat(o.left)/100*187,j=parseFloat(o.top)/100*733;return{left:l,top:j}}};return e.jsx("div",{className:"body-map-svg-container",children:e.jsxs("svg",{viewBox:x(),className:`body-svg ${s==="face"?"face-view":""}`,preserveAspectRatio:"xMidYMid meet",children:[e.jsx("image",{href:g(),width:s==="face"?"250":"187",height:s==="face"?"300":"733",x:s==="face"?"50":"0",y:s==="face"?"50":"0",preserveAspectRatio:"xMidYMid meet"}),C.map(o=>{const{left:l,top:j}=f(o);return e.jsxs(ie.Fragment,{children:[e.jsx("circle",{cx:l,cy:j,r:"10",className:`body-area-path ${n===o.area?"hovered":""}`,onClick:()=>p(o.area),onMouseEnter:()=>m(o.area),onMouseLeave:()=>m(null),filter:"url(#dropshadow)"}),e.jsx("text",{x:l,y:j,textAnchor:"middle",dominantBaseline:"middle",className:"plus-icon",children:"+"}),u.includes(o.area)&&e.jsx("circle",{cx:l,cy:j,r:"8",className:"selected-area-indicator"})]},o.area)}),n&&e.jsx("text",{x:f(C.find(o=>o.area===n)||C[0]).left,y:f(C.find(o=>o.area===n)||C[0]).top-10,className:"area-tooltip",children:n})]})})},ve=({isOpen:s,onClose:u,children:d})=>{const[h,n]=c.useState(s);c.useEffect(()=>{n(s)},[s]);const m=()=>{n(!h),h&&u()};return typeof window>"u"||window.innerWidth>768?e.jsx(e.Fragment,{children:d}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`panel-overlay ${h?"open":""}`,onClick:m}),e.jsxs("div",{className:`selection-panel ${h?"open":""}`,children:[e.jsx("div",{className:"panel-toggle",onClick:m,children:e.jsx("div",{className:"toggle-handle"})}),d]})]})},Ne=()=>{const[s,u]=c.useState([]),[d,h]=c.useState([]),[n,m]=c.useState(null),[w,C]=c.useState([]),[g,p]=c.useState([]),[x,f]=c.useState(!0),[o,l]=c.useState(null),[j,S]=c.useState(!0),[v,b]=c.useState(!1),[P,D]=c.useState(!1),[W,M]=c.useState(!1),[H,F]=c.useState(!1),[q,I]=c.useState("male"),[U,$]=c.useState(!1),[B,R]=c.useState(null),[y,z]=c.useState({firstName:"",lastName:"",email:"",phone:"",areas:"",conditions:"",consent:!1,location:""}),T=async()=>{var a,t;f(!0);try{const i=await fetch("https://evolvequizdev.wpengine.com/wp-json/wp-evolve-body-quiz/v1/areas",{headers:{"Content-Type":"application/json",Accept:"application/json"},credentials:"include"});if(!i.ok){const N=await i.json();throw new Error(N.message||"Failed to fetch areas")}const r=await i.json();u(r),S(((t=(a=r[1])==null?void 0:a.children)==null?void 0:t.length)>0)}catch(i){const r=i instanceof Error?i.message:"Unknown error";u({message:r}),l(r)}finally{f(!1)}},G=async a=>{f(!0);try{const t=await fetch(`https://evolvequizdev.wpengine.com/wp-json/wp-evolve-body-quiz/v1/conditions?area=${a}`,{headers:{"Content-Type":"application/json",Accept:"application/json"},credentials:"include"});if(!t.ok){const r=await t.json();throw new Error(r.message||"Failed to fetch conditions")}const i=await t.json();C(Array.isArray(i)?i:[])}catch(t){const i=t instanceof Error?t.message:"Failed to load conditions";l(i),C([])}finally{f(!1)}};c.useEffect(()=>{T()},[]),c.useEffect(()=>{n&&($(!0),G(n.id))},[n]);const Q=a=>{m(a),M(!1),F(!1),d.some(t=>t.id===a.id)||h(t=>[...t,a])},Z=a=>{S(a==="front"),b(a==="back"),D(a==="face"),m(null),M(!1),F(!1)},J=()=>{if(n&&w.length>0){const a=g.findIndex(t=>t.area.id===n.id);a>=0?p(t=>t.map((i,r)=>r===a?{...i,conditions:[...i.conditions]}:i)):p(t=>[...t,{area:n,conditions:[]}])}M(!0),m(null)},K=()=>{F(!0),R(null)};c.useEffect(()=>{g.length>0&&z(a=>({...a,areas:g.map(t=>t.area.name).join(", "),conditions:g.flatMap(t=>t.conditions.map(i=>i.title)).join(", ")}))},[g]);const A=a=>{const{name:t,value:i,type:r}=a.target,N=a.target.checked;z(k=>({...k,[t]:r==="checkbox"?N:i}))},X=a=>{a.preventDefault();const t=new Date().toLocaleString(),i=g.map(r=>({bodyArea:r.area.name,conditions:r.conditions.map(N=>N.title),services:r.conditions.flatMap(N=>{var k;return((k=N.recommended_services)==null?void 0:k.map(E=>E.title))||[]})}));R({...y,date:t,groupedData:i}),F(!1),M(!1)},ee=a=>{n&&p(t=>{const i=t.findIndex(r=>r.area.id===n.id);return i>=0?t.map((r,N)=>{if(N===i){const k=r.conditions.some(E=>E.id===a.id);return{...r,conditions:k?r.conditions.filter(E=>E.id!==a.id):[...r.conditions,a]}}return r}):[...t,{area:n,conditions:[a]}]})},te=(a,t)=>{p(i=>i.map(r=>{if(r.area.id===a){const N=r.conditions.filter(k=>k.id!==t);return{...r,conditions:N}}return r}).filter(r=>r.conditions.length>0))},ae=()=>{if(!n)return[];const a=g.find(t=>t.area.id===n.id);return a?a.conditions:[]},V=(a,t)=>{var i;for(const r of a){if(r.name===t)return r;if((i=r.children)!=null&&i.length){const N=V(r.children,t);if(N)return N}}},se=()=>{R(null),h([]),p([]),m(null),M(!1),F(!1),S(!0),b(!1),D(!1)};if(o)return e.jsxs("div",{className:"error-message",children:["Error: ",o]});const ne=()=>e.jsxs("div",{className:"gender-toggle",children:[e.jsx("button",{className:`gender-button ${q==="male"?"active":""}`,onClick:()=>I("male"),children:"Male"}),e.jsx("button",{className:`gender-button ${q==="female"?"active":""}`,onClick:()=>I("female"),children:"Female"})]}),oe=()=>e.jsxs("div",{className:"view-toggle-buttons",children:[!j&&e.jsx("button",{onClick:()=>Z("front"),className:"flipper",children:"Front"}),!v&&e.jsx("button",{onClick:()=>Z("back"),className:"flipper",children:"Back"}),!P&&e.jsx("button",{onClick:()=>Z("face"),className:"flipper",children:"Face"})]}),re=()=>B?null:H?e.jsxs("div",{className:"consultation-form",children:[e.jsx("h5",{children:"Complete your Consultation"}),e.jsxs("form",{onSubmit:X,children:[e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"firstName",children:"First Name"}),e.jsx("input",{type:"text",id:"firstName",name:"firstName",value:y.firstName||"",onChange:A,required:!0,placeholder:"Enter your first name"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"lastName",children:"Last Name"}),e.jsx("input",{type:"text",id:"lastName",name:"lastName",value:y.lastName||"",onChange:A,required:!0,placeholder:"Enter your last name"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"email",children:"Email"}),e.jsx("input",{type:"email",id:"email",name:"email",value:y.email,onChange:A,required:!0,placeholder:"Enter your email"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"phone",children:"Phone"}),e.jsx("input",{type:"tel",id:"phone",name:"phone",value:y.phone,onChange:A,required:!0,placeholder:"Enter your phone number"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"location",children:"Choose Location"}),e.jsxs("select",{id:"location",name:"location",value:y.location||"",onChange:A,required:!0,children:[e.jsx("option",{value:"",children:"Select a location"}),e.jsx("option",{value:"New York",children:"New Jersey"}),e.jsx("option",{value:"New York",children:"New York"}),e.jsx("option",{value:"Los Angeles",children:"Mary Land"}),e.jsx("option",{value:"Chicago",children:"Pennsylvania"})]})]}),e.jsxs("div",{className:"form-group checkbox-group",children:[e.jsx("input",{type:"checkbox",id:"consent",name:"consent",checked:y.consent||!1,onChange:A,required:!0}),e.jsxs("label",{htmlFor:"consent",className:"consent-text",children:["I agree to receiving appointment confirmations, reminders and marketing communications via email and SMS messages. Msg & data rates may apply. Msg frequency varies. Reply HELP for help and STOP to cancel. View our ",e.jsx("a",{href:"/#",children:"Privacy Policy"})]})]}),e.jsx("input",{type:"hidden",name:"areas",value:y.areas}),e.jsx("input",{type:"hidden",name:"conditions",value:y.conditions}),e.jsx("div",{className:"form-actions",children:e.jsx("button",{type:"submit",className:"area-button",disabled:x,children:x?"Submitting...":"SEE RESULTS"})})]})]}):W&&g.length>0?e.jsxs("div",{className:"selected-body-conditions",children:[e.jsxs("div",{className:"ff",children:[e.jsx("h3",{className:"quiz-card-header-text",children:"Your Selections"}),g.map(a=>e.jsxs("div",{className:"body-part-section",children:[e.jsx("p",{className:"body-part-name",children:e.jsx("strong",{children:a.area.name})}),a.conditions.length>0?e.jsx("ul",{className:"conditions-list",children:a.conditions.map(t=>e.jsxs("li",{children:[t.title," ",e.jsx("span",{className:"delete-icon",onClick:i=>{i.stopPropagation(),te(a.area.id,t.id)},children:"Ã—"})]},t.id))}):e.jsx("p",{className:"no-conditions",children:"No conditions selected"})]},a.area.id))]}),e.jsx("button",{onClick:K,className:"area-button",disabled:g.reduce((a,t)=>a+t.conditions.length,0)===0,children:"COMPLETE CONSULTATION"})]}):n?e.jsx("div",{className:"condition-container",children:x?e.jsx("div",{className:"loading-spinner",children:e.jsx(ce,{})}):e.jsxs(e.Fragment,{children:[e.jsx(le,{bodypart:n.name,conditions:w,onSelect:ee,selectedConditions:ae()}),w.length>0&&e.jsx("button",{onClick:J,className:"area-button",children:"ADD CONCERNS"})]})}):e.jsxs("div",{className:"start",children:[e.jsx("h3",{className:"quiz-card-header-text",children:"Your Selections"}),e.jsx("span",{className:"quiz-card-desc-text",children:"Start your quiz by clicking on a body part you want to be treated."})]});return e.jsxs(e.Fragment,{children:[!B&&e.jsxs("div",{className:"quiz-main-grid",children:[e.jsxs("div",{className:"view-toggle-container",children:[e.jsxs("div",{className:"button-toggles",children:[ne(),oe()]}),e.jsx(Ce,{viewType:j?"front":v?"back":"face",selectedAreas:d.map(a=>a.name),onAreaSelect:a=>{if(Array.isArray(s)){const t=V(s,a);t&&Q(t)}},showFrontView:j,showBackView:v,showFaceView:P,gender:q})]}),e.jsx(ve,{isOpen:U,onClose:()=>$(!1),children:re()})]}),B&&e.jsx(ge,{selectedBodyParts:g,resetQuiz:se})]})},ye=()=>e.jsx(Ne,{});export{ye as default};
