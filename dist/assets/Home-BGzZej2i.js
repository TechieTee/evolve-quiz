import{j as e,r as i,R as ie}from"./index-Cgn9zyoK.js";const ce=()=>e.jsx("div",{className:"spinner"}),le=({conditions:a=[],bodypart:h,onSelect:l,selectedConditions:c})=>!Array.isArray(a)||a.length===0?e.jsx("div",{className:"condition-empty-state",children:"No conditions available for this body part"}):e.jsxs("div",{className:"condition-grid",children:[e.jsxs("h3",{className:"concerns-header-text",children:[h," Concerns"]}),a.map(n=>e.jsx("div",{className:`condition-item ${c.some(u=>u.id===n.id)?"selected":""}`,onClick:()=>l(n),children:e.jsxs("div",{className:"condition-content",children:[e.jsx("span",{className:"condition-title",children:n.title}),e.jsx("span",{className:`custom-checkbox ${c.some(u=>u.id===n.id)?"checked":""}`,children:c.some(u=>u.id===n.id)&&e.jsx("svg",{className:"check-icon",xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("polyline",{points:"20 6 9 17 4 12"})})})]})},n.id))]});/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),he=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(h,l,c)=>c?c.toUpperCase():l.toLowerCase()),$=a=>{const h=he(a);return h.charAt(0).toUpperCase()+h.slice(1)},O=(...a)=>a.filter((h,l,c)=>!!h&&h.trim()!==""&&c.indexOf(h)===l).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ue={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=i.forwardRef(({color:a="currentColor",size:h=24,strokeWidth:l=2,absoluteStrokeWidth:c,className:n="",children:u,iconNode:v,...N},p)=>i.createElement("svg",{ref:p,...ue,width:h,height:h,stroke:a,strokeWidth:c?Number(l)*24/Number(h):l,className:O("lucide",n),...N},[...v.map(([m,C])=>i.createElement(m,C)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=(a,h)=>{const l=i.forwardRef(({className:c,...n},u)=>i.createElement(me,{ref:u,iconNode:h,className:O(`lucide-${de($(a))}`,`lucide-${a}`,c),...n}));return l.displayName=$(a),l};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],fe=J("arrow-left",pe);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],je=J("arrow-right",xe),Ce=({selectedBodyParts:a,resetQuiz:h})=>{const l=i.useRef(null),[c,n]=i.useState(0),[u,v]=i.useState(1);i.useEffect(()=>{const m=()=>{window.innerWidth<640?v(1):window.innerWidth<1024?v(2):v(3)};return m(),window.addEventListener("resize",m),()=>window.removeEventListener("resize",m)},[]);const N=()=>{var m;if(l.current){const C=l.current.scrollLeft,x=((m=l.current.children[0])==null?void 0:m.clientWidth)||0,d=Math.round(C/(x+24));n(d)}},p=m=>{var C;if(l.current){const x=((C=l.current.children[0])==null?void 0:C.clientWidth)||0;l.current.scrollTo({left:m*(x+24),behavior:"smooth"})}};return e.jsx("main",{className:"recommendations",children:e.jsxs("div",{className:"container",children:[e.jsxs("header",{className:"header",children:[e.jsx("h1",{className:"title",children:"Your Recommendations Are In!"}),e.jsx("p",{className:"subtitle",children:"Here is what we suggest based on your skin + body goals"}),e.jsxs("div",{className:"button-group",children:[e.jsx("button",{className:"link-button",onClick:h,children:"Take the quiz again"}),e.jsx("button",{className:"appointment-button",children:"Book Appointment"})]})]}),a.map((m,C)=>e.jsx("div",{children:m.conditions.map((x,d)=>{const j=x.recommended_services||[],f=Math.ceil(j.length/u);return e.jsxs("section",{className:"treatment-section",children:[e.jsx("div",{className:"section-header",children:e.jsx("h2",{className:"section-title",children:x.title})}),j.length>0?e.jsxs("div",{className:"carousel-container",children:[e.jsx("button",{className:"carousel-nav-button carousel-nav-prev",onClick:()=>p(c-1),disabled:c===0,children:e.jsx(fe,{size:20,color:"black"})}),e.jsx("div",{className:"carousel-content",ref:l,onScroll:N,children:j.map((y,b)=>{var A;return e.jsx("div",{className:"carousel-item",children:e.jsx("div",{className:"card",children:e.jsxs("div",{className:"card-content",children:[e.jsx("span",{className:"badge",children:((A=y.taxonomy[0])==null?void 0:A.name)||"SERVICE"}),e.jsx("h3",{className:"treatment-title",children:y.title}),e.jsx("p",{className:"treatment-description",children:y.content})]})})},b)})}),e.jsx("button",{className:"carousel-nav-button carousel-nav-next",onClick:()=>p(c+1),disabled:c>=f-1,children:e.jsx(je,{size:20,color:"black"})}),e.jsx("div",{className:"carousel-dots",children:[...Array(f)].map((y,b)=>e.jsx("button",{className:`carousel-dot ${b===c?"carousel-dot-active":""}`,onClick:()=>p(b)},b))})]}):e.jsx("p",{className:"no-treatments",children:"No treatments recommended for this condition"})]},d)})},C))]})})},L={front:[{area:"Chest",path:"M93,185 C103,175 113,175 123,185 C133,195 133,215 123,225 C113,235 103,235 93,225 C83,215 83,195 93,185 Z",left:"49.65%",top:"23.31%"},{area:"Abdomen",path:"M93,225 C103,235 113,235 123,225 C133,215 133,275 123,285 C113,295 103,295 93,285 C83,275 83,215 93,225 Z",left:"49.65%",top:"35.39%"},{area:"Arm",path:"M30,185 C20,195 15,215 20,235 C25,255 35,265 45,255 C55,245 60,225 55,205 C50,185 40,175 30,185 Z",left:"7.18%",top:"25.93%"},{area:"Flank",path:"M50,225 C40,235 35,255 40,275 C45,295 55,305 65,295 C75,285 80,265 75,245 C70,225 60,215 50,225 Z",left:"24.82%",top:"33.39%"},{area:"Hand",path:"M20,275 C10,285 5,305 10,325 C15,345 25,355 35,345 C45,335 50,315 45,295 C40,275 30,265 20,275 Z",left:"10.63%",top:"52.44%"},{area:"Intimate",path:"M93,285 C103,295 113,295 123,285 C133,275 133,315 123,325 C113,335 103,335 93,325 C83,315 83,275 93,285 Z",left:"49.65%",top:"44.25%"},{area:"Thighs",path:"M93,325 C103,335 113,335 123,325 C133,315 133,375 123,385 C113,395 103,395 93,385 C83,375 83,315 93,325 Z",left:"30.65%",top:"54.72%"},{area:"Lower Legs",path:"M93,385 C103,395 113,395 123,385 C133,375 133,455 123,465 C113,475 103,475 93,465 C83,455 83,375 93,385 Z",left:"40.65%",top:"86.79%"}],back:[{area:"Back",path:"M93,210 C103,220 113,220 123,210 C133,200 133,260 123,270 C113,280 103,280 93,270 C83,260 83,200 93,210 Z",left:"49.65%",top:"32.00%"},{area:"Buttocks",path:"M93,270 C103,280 113,280 123,270 C133,260 133,310 123,320 C113,330 103,330 93,320 C83,310 83,260 93,270 Z",left:"70.65%",top:"43.80%"}],head:[{area:"Scalp",path:"M80,40 C90,35 100,35 110,40 C115,45 115,55 110,60 C100,65 90,65 80,60 C75,55 75,45 80,40 Z",left:"41.65%",top:"5.50%"},{area:"Forehead",path:"M80,50 C90,45 100,45 110,50 C115,55 115,65 110,70 C100,75 90,75 80,70 C75,65 75,55 80,50 Z",left:"41.65%",top:"15.25%"},{area:"Eyes",path:"M80,70 C90,65 100,65 110,70 C115,75 115,85 110,90 C100,95 90,95 80,90 C75,85 75,75 80,70 Z",left:"26.65%",top:"30.50%"},{area:"Full Face",path:"M80,50 C100,40 120,40 140,50 C150,60 150,80 140,90 C120,100 100,100 80,90 C70,80 70,60 80,50 Z",left:"20.65%",top:"45.00%"},{area:"Mid-Face",path:"M80,65 C90,60 100,60 110,65 C115,70 115,80 110,85 C100,90 90,90 80,85 C75,80 75,70 80,65 Z",left:"41.65%",top:"43.50%"},{area:"Lips/Mouth",path:"M90,85 C100,90 110,90 120,85 C125,82 125,88 120,85 C110,80 100,80 90,85 C85,88 85,82 90,85 Z",left:"41.65%",top:"70.25%"},{area:"Neck",path:"M90,90 C100,95 110,95 120,90 C125,100 125,110 120,120 C110,125 100,125 90,120 C85,110 85,100 90,90 Z",left:"29.65%",top:"90.50%"}]},ge=({viewType:a,selectedAreas:h,onAreaSelect:l,gender:c})=>{const[n,u]=i.useState(null),N=(()=>{switch(a){case"front":return L.front;case"back":return L.back;case"face":return L.head;default:return L.front}})(),p=()=>{switch(a){case"front":return c==="female"?"/female-body-front.svg":"/male-body-front.svg";case"back":return c==="female"?"/female-body-back.svg":"/male-body-back.svg";case"face":return"/face.svg";default:return c==="female"?"/female-body-front.svg":"/male-body-front.svg"}},m=d=>{N.find(f=>f.area===d)&&l(d)},C=()=>a==="face"?"0 0 350 350":"0 0 187 733",x=d=>{if(a==="face"){const j=parseFloat(d.left)/100*300+50,f=parseFloat(d.top)/100*300+50;return{left:j,top:f}}else{const j=parseFloat(d.left)/100*187,f=parseFloat(d.top)/100*733;return{left:j,top:f}}};return e.jsx("div",{className:"body-map-svg-container",children:e.jsxs("svg",{viewBox:C(),className:`body-svg ${a==="face"?"face-view":""}`,preserveAspectRatio:"xMidYMid meet",children:[e.jsx("image",{href:p(),width:a==="face"?"250":"187",height:a==="face"?"300":"733",x:a==="face"?"50":"0",y:a==="face"?"50":"0",preserveAspectRatio:"xMidYMid meet"}),N.map(d=>{const{left:j,top:f}=x(d);return e.jsxs(ie.Fragment,{children:[e.jsx("circle",{cx:j,cy:f,r:"10",className:`body-area-path ${n===d.area?"hovered":""}`,onClick:()=>m(d.area),onMouseEnter:()=>u(d.area),onMouseLeave:()=>u(null),filter:"url(#dropshadow)"}),e.jsx("text",{x:j,y:f,textAnchor:"middle",dominantBaseline:"middle",className:"plus-icon",children:"+"}),h.includes(d.area)&&e.jsx("circle",{cx:j,cy:f,r:"8",className:"selected-area-indicator"})]},d.area)}),n&&e.jsx("text",{x:x(N.find(d=>d.area===n)||N[0]).left,y:x(N.find(d=>d.area===n)||N[0]).top-10,className:"area-tooltip",children:n})]})})},Ne=({isOpen:a,onClose:h,children:l})=>{const[c,n]=i.useState(a);i.useEffect(()=>{n(a)},[a]);const u=()=>{n(!c),c&&h()};return typeof window>"u"||window.innerWidth>768?e.jsx(e.Fragment,{children:l}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`panel-overlay ${c?"open":""}`,onClick:u}),e.jsxs("div",{className:`selection-panel ${c?"open":""}`,children:[e.jsx("div",{className:"panel-toggle",onClick:u,children:e.jsx("div",{className:"toggle-handle"})}),l]})]})},ve=()=>{const[a,h]=i.useState([]),[l,c]=i.useState([]),[n,u]=i.useState(null),[v,N]=i.useState([]),[p,m]=i.useState([]),[C,x]=i.useState(!0),[d,j]=i.useState(null),[f,y]=i.useState(!0),[b,A]=i.useState(!1),[B,Z]=i.useState(!1),[W,M]=i.useState(!1),[H,F]=i.useState(!1),[R,q]=i.useState("female"),[_,z]=i.useState(!1),[P,D]=i.useState(null),[w,Y]=i.useState({firstName:"",lastName:"",email:"",phone:"",areas:"",conditions:"",consent:!1,location:""}),T=async()=>{var s,t;x(!0);try{const r=await fetch("https://evolvequizdev.wpengine.com/wp-json/wp-evolve-body-quiz/v1/areas",{headers:{"Content-Type":"application/json",Accept:"application/json"},credentials:"include"});if(!r.ok){const g=await r.json();throw new Error(g.message||"Failed to fetch areas")}const o=await r.json();h(o),y(((t=(s=o[1])==null?void 0:s.children)==null?void 0:t.length)>0)}catch(r){const o=r instanceof Error?r.message:"Unknown error";h({message:o}),j(o)}finally{x(!1)}},U=async s=>{x(!0);try{const t=await fetch(`https://evolvequizdev.wpengine.com/wp-json/wp-evolve-body-quiz/v1/conditions?area=${s}`,{headers:{"Content-Type":"application/json",Accept:"application/json"},credentials:"include"});if(!t.ok){const o=await t.json();throw new Error(o.message||"Failed to fetch conditions")}const r=await t.json();N(Array.isArray(r)?r:[])}catch(t){const r=t instanceof Error?t.message:"Failed to load conditions";j(r),N([])}finally{x(!1)}};i.useEffect(()=>{T()},[]),i.useEffect(()=>{n&&(z(!0),U(n.id))},[n]);const G=s=>{u(s),M(!1),F(!1),l.some(t=>t.id===s.id)||c(t=>[...t,s])},I=s=>{y(s==="front"),A(s==="back"),Z(s==="face"),u(null),M(!1),F(!1)},Q=()=>{if(n&&v.length>0){const s=p.findIndex(t=>t.area.id===n.id);s>=0?m(t=>t.map((r,o)=>o===s?{...r,conditions:[...r.conditions]}:r)):m(t=>[...t,{area:n,conditions:[]}])}M(!0),u(null)},K=()=>{F(!0),D(null)};i.useEffect(()=>{p.length>0&&Y(s=>({...s,areas:p.map(t=>t.area.name).join(", "),conditions:p.flatMap(t=>t.conditions.map(r=>r.title)).join(", ")}))},[p]);const S=s=>{const{name:t,value:r,type:o}=s.target,g=s.target.checked;Y(k=>({...k,[t]:o==="checkbox"?g:r}))},X=s=>{s.preventDefault();const t=new Date().toLocaleString(),r=p.map(o=>({bodyArea:o.area.name,conditions:o.conditions.map(g=>g.title),services:o.conditions.flatMap(g=>{var k;return((k=g.recommended_services)==null?void 0:k.map(E=>E.title))||[]})}));D({...w,date:t,groupedData:r}),F(!1),M(!1)},ee=s=>{n&&m(t=>{const r=t.findIndex(o=>o.area.id===n.id);return r>=0?t.map((o,g)=>{if(g===r){const k=o.conditions.some(E=>E.id===s.id);return{...o,conditions:k?o.conditions.filter(E=>E.id!==s.id):[...o.conditions,s]}}return o}):[...t,{area:n,conditions:[s]}]})},te=(s,t)=>{m(r=>r.map(o=>{if(o.area.id===s){const g=o.conditions.filter(k=>k.id!==t);return{...o,conditions:g}}return o}).filter(o=>o.conditions.length>0))},se=()=>{if(!n)return[];const s=p.find(t=>t.area.id===n.id);return s?s.conditions:[]},V=(s,t)=>{var r;for(const o of s){if(o.name===t)return o;if((r=o.children)!=null&&r.length){const g=V(o.children,t);if(g)return g}}},ae=()=>{D(null),c([]),m([]),u(null),M(!1),F(!1),y(!0),A(!1),Z(!1)};if(d)return e.jsxs("div",{className:"error-message",children:["Error: ",d]});const ne=()=>e.jsxs("div",{className:"gender-toggle",children:[e.jsx("button",{className:`gender-button ${R==="female"?"active":""}`,onClick:()=>q("female"),children:"Female"}),e.jsx("button",{className:`gender-button ${R==="male"?"active":""}`,onClick:()=>q("male"),children:"Male"})]}),oe=()=>e.jsxs("div",{className:"view-toggle-buttons",children:[!f&&e.jsx("button",{onClick:()=>I("front"),className:"flipper",children:"Front"}),!b&&e.jsx("button",{onClick:()=>I("back"),className:"flipper",children:"Back"}),!B&&e.jsx("button",{onClick:()=>I("face"),className:"flipper",children:"Face"})]}),re=()=>P?null:H?e.jsxs("div",{className:"consultation-form",children:[e.jsx("h5",{children:"Complete your Consultation"}),e.jsxs("form",{onSubmit:X,children:[e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"firstName",children:"First Name"}),e.jsx("input",{type:"text",id:"firstName",name:"firstName",value:w.firstName||"",onChange:S,required:!0,placeholder:"Enter your first name"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"lastName",children:"Last Name"}),e.jsx("input",{type:"text",id:"lastName",name:"lastName",value:w.lastName||"",onChange:S,required:!0,placeholder:"Enter your last name"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"email",children:"Email"}),e.jsx("input",{type:"email",id:"email",name:"email",value:w.email,onChange:S,required:!0,placeholder:"Enter your email"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"phone",children:"Phone"}),e.jsx("input",{type:"tel",id:"phone",name:"phone",value:w.phone,onChange:S,required:!0,placeholder:"Enter your phone number"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"location",children:"Choose Location"}),e.jsxs("select",{id:"location",name:"location",value:w.location||"",onChange:S,required:!0,children:[e.jsx("option",{value:"",children:"Select a location"}),e.jsx("option",{value:"New York",children:"Bel Air, MD"}),e.jsx("option",{value:"New York",children:"Bridgewater, NJ"}),e.jsx("option",{value:"New York",children:"Denville, NJ"}),e.jsx("option",{value:"New York",children:"Frederick, MD"}),e.jsx("option",{value:"New York",children:"Hoboken, NJ"}),e.jsx("option",{value:"Los Angeles",children:"Jersey City, NJ"}),e.jsx("option",{value:"Chicago",children:"Lancaster, PA"}),e.jsx("option",{value:"New York",children:"Montclair, NJ"}),e.jsx("option",{value:"New York",children:"Old Bridge, NJ"}),e.jsx("option",{value:"Los Angeles",children:"Red Bank, NJ"}),e.jsx("option",{value:"Chicago",children:"Ridgewood, NJ"}),e.jsx("option",{value:"New York",children:"Scarsdale, NY"}),e.jsx("option",{value:"New York",children:"Short Hills, NJ"}),e.jsx("option",{value:"Los Angeles",children:"Tribeca, NY"}),e.jsx("option",{value:"Chicago",children:"Waldorf, MD"})]})]}),e.jsxs("div",{className:"form-group checkbox-group",children:[e.jsx("input",{type:"checkbox",id:"consent",name:"consent",checked:w.consent||!1,onChange:S,required:!0}),e.jsxs("label",{htmlFor:"consent",className:"consent-text",children:["I agree to receiving appointment confirmations, reminders and marketing communications via email and SMS messages. Msg & data rates may apply. Msg frequency varies. Reply HELP for help and STOP to cancel. View our ",e.jsx("a",{href:"/#",children:"Privacy Policy"})]})]}),e.jsx("input",{type:"hidden",name:"areas",value:w.areas}),e.jsx("input",{type:"hidden",name:"conditions",value:w.conditions}),e.jsx("div",{className:"form-actions",children:e.jsx("button",{type:"submit",className:"area-button",disabled:C,children:C?"Submitting...":"SEE RESULTS"})})]})]}):W&&p.length>0?e.jsxs("div",{className:"selected-body-conditions",children:[e.jsxs("div",{className:"ff",children:[e.jsx("h3",{className:"quiz-card-header-text",children:"Your Selections"}),p.map(s=>e.jsxs("div",{className:"body-part-section",children:[e.jsx("p",{className:"body-part-name",children:e.jsx("strong",{children:s.area.name})}),s.conditions.length>0?e.jsx("ul",{className:"conditions-list",children:s.conditions.map(t=>e.jsxs("li",{children:[t.title," ",e.jsx("span",{className:"delete-icon",onClick:r=>{r.stopPropagation(),te(s.area.id,t.id)},children:"Ã—"})]},t.id))}):e.jsx("p",{className:"no-conditions",children:"No conditions selected"})]},s.area.id))]}),e.jsx("button",{onClick:K,className:"area-button",disabled:p.reduce((s,t)=>s+t.conditions.length,0)===0,children:"COMPLETE CONSULTATION"})]}):n?e.jsx("div",{className:"condition-container",children:C?e.jsx("div",{className:"loading-spinner",children:e.jsx(ce,{})}):e.jsxs(e.Fragment,{children:[e.jsx(le,{bodypart:n.name,conditions:v,onSelect:ee,selectedConditions:se()}),v.length>0&&e.jsx("button",{onClick:Q,className:"area-button",children:"ADD CONCERNS"})]})}):e.jsxs("div",{className:"start",children:[e.jsx("h3",{className:"quiz-card-header-text",children:"Your Selections"}),e.jsx("span",{className:"quiz-card-desc-text",children:"Start your quiz by clicking on a body part you want to be treated."})]});return e.jsxs(e.Fragment,{children:[!P&&e.jsxs("div",{className:"quiz-main-grid",children:[e.jsxs("div",{className:"view-toggle-container",children:[e.jsxs("div",{className:"button-toggles",children:[ne(),oe()]}),e.jsx(ge,{viewType:f?"front":b?"back":B?"face":"front",selectedAreas:l.map(s=>s.name),onAreaSelect:s=>{if(Array.isArray(a)){const t=V(a,s);t&&G(t)}},showFrontView:f,showBackView:b,showFaceView:B,gender:R})]}),e.jsx(Ne,{isOpen:_,onClose:()=>z(!1),children:re()})]}),P&&e.jsx(Ce,{selectedBodyParts:p,resetQuiz:ae})]})},we=()=>e.jsx(ve,{});export{we as default};
