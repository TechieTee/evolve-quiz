import{R as B,j as e,r as c}from"./index-EM5Pzidg.js";const Z=({areasResponse:a,onSelect:i,selectedAreas:d,isLoading:m=!1,showFrontView:t})=>{const[u,x]=B.useState(null),p=()=>{if(m)return[];if(!Array.isArray(a))return[];if(a.length<2)return[];const l=t?a[1]:a[0];return(l==null?void 0:l.children)||[]},h=B.useMemo(()=>p(),[a,t,m,p]),j=l=>{l.count===0?x(`No conditions available for ${l.name}.`):(x(null),i(l))};return m?e.jsxs("div",{className:"area-selection-loading",children:[e.jsx("div",{className:"loading-animation"}),e.jsx("p",{children:"Loading body areas..."})]}):Array.isArray(a)?e.jsxs("div",{className:"area-selection-container",children:[e.jsx("h2",{className:"view-title",children:t?"Front of Body":"Back of Body"}),u&&e.jsx("div",{className:"info-message",children:u}),e.jsx("div",{className:"area-selection-grid",children:h.length>0?h.map(l=>e.jsxs("button",{onClick:()=>j(l),className:`area-button ${d.some(N=>N.id===l.id)?"active":""}`,children:[e.jsx("span",{className:"area-name",children:l.name}),e.jsxs("span",{className:"condition-count",children:[l.count," conditions"]})]},l.id)):e.jsx("div",{className:"empty-state",children:e.jsxs("p",{children:["No ",t?"front":"back"," areas available"]})})})]}):e.jsxs("div",{className:"area-selection-error",children:[e.jsx("div",{className:"error-icon",children:"!"}),e.jsx("p",{className:"error-message",children:a.message}),e.jsx("button",{className:"retry-button",onClick:()=>window.location.reload(),children:"Try Again"})]})},H=({conditions:a=[],bodypart:i,onSelect:d,selectedConditions:m})=>!a||a.length===0?e.jsx("div",{className:"condition-empty-state",children:"No conditions available for this body part"}):e.jsxs("div",{className:"condition-container",children:[e.jsxs("h3",{children:["Select ",i," Concerns"]}),e.jsx("div",{className:"condition-grid",children:a.map(t=>e.jsx("div",{className:`condition-item ${m.some(u=>u.id===t.id)?"selected":""}`,onClick:()=>d(t),children:e.jsx("div",{className:"condition-content",children:e.jsx("h3",{className:"condition-title",children:t.title})})},t.id))})]});/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),G=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(i,d,m)=>m?m.toUpperCase():d.toLowerCase()),P=a=>{const i=G(a);return i.charAt(0).toUpperCase()+i.slice(1)},I=(...a)=>a.filter((i,d,m)=>!!i&&i.trim()!==""&&m.indexOf(i)===d).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var V={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=c.forwardRef(({color:a="currentColor",size:i=24,strokeWidth:d=2,absoluteStrokeWidth:m,className:t="",children:u,iconNode:x,...p},h)=>c.createElement("svg",{ref:h,...V,width:i,height:i,stroke:a,strokeWidth:m?Number(d)*24/Number(i):d,className:I("lucide",t),...p},[...x.map(([j,l])=>c.createElement(j,l)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=(a,i)=>{const d=c.forwardRef(({className:m,...t},u)=>c.createElement(J,{ref:u,iconNode:i,className:I(`lucide-${K(P(a))}`,`lucide-${a}`,m),...t}));return d.displayName=P(a),d};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]],ee=L("redo",X);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]],ne=L("undo",se),ae=({services:a})=>e.jsxs("div",{className:"service-recommendations",children:[e.jsx("h2",{children:"Recommended Services"}),e.jsx("div",{className:"service-grid",children:a.map(i=>e.jsxs("div",{className:"service-card",children:[i.taxonomy&&i.taxonomy.length>0&&e.jsx("div",{className:"service-tags",children:i.taxonomy.map(d=>e.jsx("span",{className:"tag",children:d.name},d.id))}),e.jsx("h3",{children:i.title}),e.jsx("a",{href:i.link,target:"_blank",rel:"noopener noreferrer",children:"View Details"})]},i.id))})]}),te=()=>{const[a,i]=c.useState([]),[d,m]=c.useState([]),[t,u]=c.useState(null),[x,p]=c.useState([]),[h,j]=c.useState([]),[l,N]=c.useState(!0),[A,E]=c.useState(null),[q,z]=c.useState(!0),[F,b]=c.useState(!1),[T,w]=c.useState(!1),[f,S]=c.useState(null),[g,D]=c.useState({name:"",email:"",phone:"",areas:"",conditions:""}),_=async()=>{var n,s;N(!0);try{const r=await fetch("https://evolvequizdev.wpengine.com/wp-json/wp-evolve-body-quiz/v1/areas",{headers:{"Content-Type":"application/json",Accept:"application/json"},credentials:"include"});if(!r.ok){const v=await r.json();throw new Error(v.message||"Failed to fetch areas")}const o=await r.json();i(o),z(((s=(n=o[1])==null?void 0:n.children)==null?void 0:s.length)>0)}catch(r){const o=r instanceof Error?r.message:"Unknown error";i({message:o}),E(o)}finally{N(!1)}},$=async n=>{N(!0);try{const s=await fetch(`https://evolvequizdev.wpengine.com/wp-json/wp-evolve-body-quiz/v1/conditions?area=${n}`,{headers:{"Content-Type":"application/json",Accept:"application/json"},credentials:"include"});if(!s.ok){const o=await s.json();throw new Error(o.message||"Failed to fetch conditions")}const r=await s.json();p(r||[])}catch(s){const r=s instanceof Error?s.message:"Failed to load conditions";E(r),p([])}finally{N(!1)}};c.useEffect(()=>{_()},[]),c.useEffect(()=>{t&&$(t.id)},[t]);const U=n=>{u(n),d.some(s=>s.id===n.id)||m(s=>[...s,n])},M=()=>{z(!q),u(null)},R=()=>{if(t&&x.length>0){const n=h.findIndex(s=>s.area.id===t.id);n>=0?j(s=>s.map((r,o)=>o===n?{...r,conditions:[...r.conditions]}:r)):j(s=>[...s,{area:t,conditions:[]}])}b(!0)},O=()=>{w(!0),S(null)};c.useEffect(()=>{h.length>0&&D(n=>({...n,areas:h.map(s=>s.area.name).join(", "),conditions:h.flatMap(s=>s.conditions.map(r=>r.title)).join(", ")}))},[h]);const k=n=>{const{name:s,value:r}=n.target;D(o=>({...o,[s]:r}))},Q=n=>{n.preventDefault();const s=new Date().toLocaleString(),r=h.map(o=>({bodyArea:o.area.name,conditions:o.conditions.map(v=>v.title),services:o.conditions.flatMap(v=>{var C;return((C=v.recommended_services)==null?void 0:C.map(y=>y.title))||[]})}));S({...g,date:s,groupedData:r}),w(!1),b(!1)},W=n=>{t&&j(s=>{const r=s.findIndex(o=>o.area.id===t.id);return r>=0?s.map((o,v)=>{if(v===r){const C=o.conditions.some(y=>y.id===n.id);return{...o,conditions:C?o.conditions.filter(y=>y.id!==n.id):[...o.conditions,n]}}return o}):[...s,{area:t,conditions:[n]}]})},Y=()=>{if(!t)return[];const n=h.find(s=>s.area.id===t.id);return n?n.conditions:[]};return l?e.jsx("div",{className:"loading-spinner",children:"Loading quiz data..."}):A?e.jsxs("div",{className:"error-message",children:["Error: ",A]}):e.jsxs("div",{className:"quiz-main-grid",children:[e.jsxs("div",{className:"quiz-content-area",children:[!f&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"view-toggle-container",children:[e.jsx("div",{onClick:M,className:"flipper",children:e.jsx(ee,{size:24,strokeWidth:2,className:"undo-icon"})}),e.jsx(Z,{areasResponse:a,onSelect:U,selectedAreas:d,isLoading:l,showFrontView:q}),e.jsx("div",{onClick:M,className:"flipper",children:e.jsx(ne,{size:24,strokeWidth:2,className:"undo-icon"})})]}),T&&e.jsx("div",{className:"consultation-form",children:e.jsxs("div",{className:"form-container",children:[e.jsx("h3",{children:"Your Consultation Form"}),e.jsxs("p",{children:[h.length," body part(s) with"," ",h.reduce((n,s)=>n+s.conditions.length,0)," ","condition(s)"]}),e.jsxs("form",{onSubmit:Q,children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"name",children:"Full Name"}),e.jsx("input",{type:"text",id:"name",name:"name",value:g.name,onChange:k,required:!0,placeholder:"Enter your full name"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"email",children:"Email Address"}),e.jsx("input",{type:"email",id:"email",name:"email",value:g.email,onChange:k,required:!0,placeholder:"Enter your email"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"phone",children:"Phone Number"}),e.jsx("input",{type:"tel",id:"phone",name:"phone",value:g.phone,onChange:k,required:!0,placeholder:"Enter your phone number"})]}),e.jsx("input",{type:"hidden",name:"areas",value:g.areas}),e.jsx("input",{type:"hidden",name:"conditions",value:g.conditions}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{type:"button",className:"secondary-button",onClick:()=>{w(!1),b(!0)},children:"Back"}),e.jsx("button",{type:"submit",className:"primary-button",disabled:l,children:l?"Submitting...":"Get My Results"})]})]})]})})]}),f&&e.jsxs("div",{className:"submission-card",children:[e.jsxs("div",{className:"card-header",children:[e.jsx("h3",{children:"Consultation Submitted Successfully!"}),e.jsxs("p",{children:["Submitted on: ",f.date]})]}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"data-row",children:[e.jsx("span",{className:"data-label",children:"Name:"}),e.jsx("span",{className:"data-value",children:f.name})]}),e.jsxs("div",{className:"data-row",children:[e.jsx("span",{className:"data-label",children:"Email:"}),e.jsx("span",{className:"data-value",children:f.email})]}),e.jsxs("div",{className:"data-row",children:[e.jsx("span",{className:"data-label",children:"Phone:"}),e.jsx("span",{className:"data-value",children:f.phone})]}),e.jsxs("div",{className:"grouped-data",children:[e.jsx("h4",{children:"Body Areas and Conditions:"}),h.map(n=>e.jsxs("div",{className:"body-part-group",children:[e.jsx("div",{className:"body-part-header",children:e.jsx("span",{className:"body-part-name",children:n.area.name})}),n.conditions.length>0&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"conditions-list",children:[e.jsx("span",{className:"sub-label",children:"Conditions:"}),e.jsx("ul",{children:n.conditions.map(s=>e.jsx("li",{children:s.title},s.id))})]}),n.conditions.some(s=>{var r;return((r=s.recommended_services)==null?void 0:r.length)>0})&&e.jsxs("div",{className:"services-group",children:[e.jsx("span",{className:"sub-label",children:"Recommended Services:"}),e.jsx(ae,{services:n.conditions.flatMap(s=>s.recommended_services||[])})]})]})]},n.area.id))]})]}),e.jsx("div",{className:"card-footer",children:e.jsx("button",{className:"primary-button",onClick:()=>{S(null),m([]),j([]),u(null),b(!1),w(!1)},children:"Start New Consultation"})})]})]}),e.jsxs("div",{className:"selection-panel",children:[e.jsxs("h3",{className:"quiz-card-header-text",children:["Your Selection (",h.reduce((n,s)=>n+s.conditions.length,0),")"]}),e.jsxs(e.Fragment,{children:[t&&e.jsx(H,{bodypart:t.name,conditions:x,onSelect:W,selectedConditions:Y()}),t&&x.length>0&&!F&&!T&&!f&&e.jsx("button",{onClick:R,className:"area-button",children:"Add to my consultation"})]}),F&&h.length>0&&e.jsxs("div",{className:"consultation-summary",children:[e.jsx("h4",{children:"Selected Body Parts and Conditions:"}),h.map(n=>e.jsxs("div",{className:"body-part-section",children:[e.jsx("p",{className:"body-part-name",children:e.jsx("strong",{children:n.area.name})}),n.conditions.length>0?e.jsx("ul",{children:n.conditions.map(s=>e.jsx("li",{children:s.title},s.id))}):e.jsx("p",{className:"no-conditions",children:"No conditions selected"})]},n.area.id)),e.jsx("button",{onClick:O,className:"consultation-form-button",disabled:h.reduce((n,s)=>n+s.conditions.length,0)===0,children:"Finish Consultation"})]})]})]})},re=()=>e.jsxs("div",{className:"home-page",children:[e.jsxs("main",{className:"main-content",children:[e.jsxs("section",{className:"intro-section",children:[e.jsxs("div",{className:"header-content",children:[e.jsx("p",{className:"subtitle",children:"Take out the guess work on your goals"}),e.jsx("h1",{children:"TAKE OUR AESTHETICS QUIZ"})]}),e.jsxs("div",{className:"container",children:[e.jsx("p",{className:"subtitle-text",children:"Everyone has a dream of what their best self looks like. Take our aesthetic quiz to find out what our expert providers would suggest to meet you goals. This information will help yourself as well as our team better understand your goals and create a treatment plan specifically for you!"}),e.jsx("div",{className:"view-toggle-container",children:e.jsx("button",{className:"view-toggle",children:"Take The Quiz"})})]})]}),e.jsx("section",{className:"quiz-container-section",children:e.jsx("div",{className:"quiz-wrapper",children:e.jsx(te,{})})}),e.jsx("section",{className:"info-section",children:e.jsxs("div",{className:"container",children:[e.jsx("h2",{children:"About Our Treatments"}),e.jsx("p",{children:"Our clinic specializes in advanced aesthetic treatments tailored to your unique needs. The recommendations provided by this quiz are based on our most popular and effective treatment options."}),e.jsxs("div",{className:"features-grid",children:[e.jsxs("div",{className:"feature",children:[e.jsx("h3",{children:"Expert Care"}),e.jsx("p",{children:"All treatments performed by certified professionals"})]}),e.jsxs("div",{className:"feature",children:[e.jsx("h3",{children:"Personalized Approach"}),e.jsx("p",{children:"Customized treatment plans for optimal results"})]}),e.jsxs("div",{className:"feature",children:[e.jsx("h3",{children:"Cutting-Edge Technology"}),e.jsx("p",{children:"Using the latest techniques and equipment"})]})]})]})})]}),e.jsx("footer",{className:"quiz-footer",children:e.jsxs("div",{className:"container",children:[e.jsxs("p",{children:["Â© ",new Date().getFullYear()," Evolve Med Spa. All rights reserved."]}),e.jsxs("div",{className:"footer-links",children:[e.jsx("a",{href:"/privacy",children:"Privacy Policy"}),e.jsx("a",{href:"/terms",children:"Terms of Service"}),e.jsx("a",{href:"/contact",children:"Contact Us"})]})]})})]});export{re as default};
